<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <link rel="stylesheet" href="/css/admin.css">
  <link rel="stylesheet" href="/css/header.css">
</head>
<body>
    <!--header Section-->
    <div id="header" class="header">
        <div class="header-left" id="header-left"></div>
        <div class="header-right" id="header-right"></div>
    </div>
    
    <!--header ends-->
    <h2>Admin Panel 3</h2>
    <p id="status">Checking access...</p>
    <button id="addUserBtn" class="primary-btn">Add New User</button><br><br>
    <!--User table-->
    <table id="userTable">
        <thead>
            <tr>
                <th>Username</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <!--Password change modal-->
    <div class="modal-bg" id="modal-bg">
        <div class="modal" id="passwordModal">
            <h3>Change Password</h3>
    <!--Username (filed automatically when clicking Change Password)-->
            <label>Username:</label>
            <input id="passwordUsername" type="text" readonly>
    
    <!--New Password-->
            <label>New Password:</label>
            <input id="passwordNew" type="password">    
    
            <div class="modal-actions">
                <button id="submitPasswordChange">Submit</button>
                <button id="closePasswordModal">Cancel</button>        
            </div>

            <p id="modal-result"></p>
        </div>
    </div>  

    <script type="module">
        import { loadHeader } from "/js/header.js";
        import { checkAccess } from "/js/checkAdminAccess.js";
        import { initAdminPanel } from "/js/adminPanel.js";  
        loadHeader();
        checkAccess();
        initAdminPanel();
    </script>
</body>
</html>